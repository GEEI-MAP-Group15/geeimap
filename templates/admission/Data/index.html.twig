{% extends 'base.html.twig' %}

{% block title %}Data for decision{% endblock %}

    {% block body %}

    	<div class="container">
            <a href="{{ path('admission') }}" type="button" class="btn btn-warning">Back to admission index</a>

    		<br></br>

    		<div class="row">

    			<h1 class="col-lg-12 text-center">Data for decision making</h1>

    		</div>

    		<br></br>

            <div class="row">

                <h3 class="col-lg-12">General information</h3>

            </div>

    		<div class="row">

    			<table class="col-lg-12 table-center table-bordered table-striped">

                	<thead class="thead-light text-center">

	                    <tr>
	                        <th>Data</th>
	                        <th>Knowledge</th>
	                    </tr>

                	</thead>

                	<tbody class="">

                		<tr>
                			<td style="width:50%;">Total number of application received</td>
                			<td class="text-center">{{countapp}}</td>
                		</tr>

                    </tbody>
                </table>

            </div>

            <br></br>

            <div class="row">

                <h3 class="col-lg-12">Capacity data for colleges</h3>

            </div>


            <div class="row">


                <table class="col-lg-12 table-center table-bordered table-striped">

                    <thead class="thead-light text-center">

                        <tr>
                            <th style="width:20%;">Data</th>
                            <th style="width:20%;">Casual capacity</th>
                            <th style="width:20%;">Increased capacity during crisis (+20%)</th>
                            <th style="width:20%;">Remaining increased crisis capacity</th>
                            <th style="width:20%;">Number of enrolled student</th>
                            <th style="width:20%;">Number of student application received</th>
                        </tr>

                    </thead>

                    <tbody>  

                        {% for i in 0 .. (countcollegeid - 1) %}

                            {% if collegecapacities[i]*1.2 < collegeenrolled[i] + nbstudentincollege[i] %}
        
                                <tr class="table-danger">
                                    <td style="width:30%;">{{collegenames[i]}} college</td>
                                    <td class="text-center">{{collegecapacities[i]}}</td>
                                    <td class="text-center">{{collegecapacities[i]*1.2}}</td>
                                    <td class="text-center">{{collegecapacities[i]*1.2 - (collegeenrolled[i] + nbstudentincollege[i])}}</td>
                                    <td class="text-center">{{collegeenrolled[i]}}</td>
                                    <td class="text-center">{{nbstudentincollege[i]}}</td>
                                </tr>

                            {% elseif collegecapacities[i] <= (collegeenrolled[i] + nbstudentincollege[i]) and (collegeenrolled[i] + nbstudentincollege[i]) <= collegecapacities[i]*1.2 %}

                                <tr class="table-warning">
                                    <td style="width:30%;">{{collegenames[i]}} college</td>
                                    <td class="text-center">{{collegecapacities[i]}}</td>
                                    <td class="text-center">{{collegecapacities[i]*1.2}}</td>
                                    <td class="text-center">{{collegecapacities[i]*1.2 - (collegeenrolled[i] + nbstudentincollege[i])}}</td>
                                    <td class="text-center">{{collegeenrolled[i]}}</td>
                                    <td class="text-center">{{nbstudentincollege[i]}}</td>
                                </tr>

                            {% else %}

                                <tr class="table-success">
                                    <td style="width:30%;">{{collegenames[i]}} college</td>
                                    <td class="text-center">{{collegecapacities[i]}}</td>
                                    <td class="text-center">{{collegecapacities[i]*1.2}}</td>
                                    <td class="text-center">{{collegecapacities[i]*1.2 - (collegeenrolled[i] + nbstudentincollege[i])}}</td>
                                    <td class="text-center">{{collegeenrolled[i]}}</td>
                                    <td class="text-center">{{nbstudentincollege[i]}}</td>
                                </tr>

                            {% endif %}
                        
                        {% endfor %}
                    </tbody>    

                </table>
            

        </div>


            <br></br>

            <div class="row">

                <h3 class="col-lg-12">Capacity data for academic levels</h3>

            </div>

             <div class="row">


                <table class="col-lg-12 table-center table-bordered table-striped">

                    <thead class="thead-light text-center">

                        <tr>
                            <th style="width:20%;">Data</th>
                            <th style="width:20%;">Casual capacity</th>
                            <th style="width:20%;">Increased capacity during crisis (+20%)</th>
                            <th style="width:20%;">Remaining increased crisis capacity</th>
                            <th style="width:20%;">Number of enrolled student</th>
                            <th style="width:20%;">Number of student application received</th>
                        </tr>

                    </thead>

                    <tbody>  

                        {% for i in 0 .. (countacademiclevelid - 1) %}

                            {% if academiclevelcapacities[i]*1.2 < academiclevelenrolled[i] + nbstudentinacademiclevel[i] %}
        
                                <tr class="table-danger">
                                    <td style="width:30%;">{{academiclevelnames[i]}} academic level</td>
                                    <td class="text-center">{{academiclevelcapacities[i]}}</td>
                                    <td class="text-center">{{academiclevelcapacities[i]*1.2}}</td>
                                    <td class="text-center">{{academiclevelcapacities[i]*1.2 - (academiclevelenrolled[i] + nbstudentinacademiclevel[i])}}</td>
                                    <td class="text-center">{{academiclevelenrolled[i]}}</td>
                                    <td class="text-center">{{nbstudentinacademiclevel[i]}}</td>
                                </tr>

                            {% elseif academiclevelcapacities[i] <= (academiclevelenrolled[i] + nbstudentinacademiclevel[i]) and (academiclevelenrolled[i] + nbstudentinacademiclevel[i]) <= academiclevelcapacities[i]*1.2 %}

                                <tr class="table-warning">
                                    <td style="width:30%;">{{academiclevelnames[i]}} academic level</td>
                                    <td class="text-center">{{academiclevelcapacities[i]}}</td>
                                    <td class="text-center">{{academiclevelcapacities[i]*1.2}}</td>
                                    <td class="text-center">{{academiclevelcapacities[i]*1.2 - (academiclevelenrolled[i] + nbstudentinacademiclevel[i])}}</td>
                                    <td class="text-center">{{academiclevelenrolled[i]}}</td>
                                    <td class="text-center">{{nbstudentinacademiclevel[i]}}</td>
                                </tr>

                            {% else %}

                                <tr class="table-success">
                                    <td style="width:30%;">{{academiclevelnames[i]}} academic level</td>
                                    <td class="text-center">{{academiclevelcapacities[i]}}</td>
                                    <td class="text-center">{{academiclevelcapacities[i]*1.2}}</td>
                                    <td class="text-center">{{academiclevelcapacities[i]*1.2 - (academiclevelenrolled[i] + nbstudentinacademiclevel[i])}}</td>
                                    <td class="text-center">{{academiclevelenrolled[i]}}</td>
                                    <td class="text-center">{{nbstudentinacademiclevel[i]}}</td>
                                </tr>

                            {% endif %}
                        
                        {% endfor %}
                    </tbody>    

                </table>
            

            </div>


            <br></br>

            <div class="row">

                <h3 class="col-lg-12">Capacity data for degrees</h3>

            </div>

            <div class="row">


                <table class="col-lg-12 table-center table-bordered table-striped">

                    <thead class="thead-light text-center">

                        <tr>
                            <th style="width:20%;">Data</th>
                            <th style="width:20%;">Casual capacity</th>
                            <th style="width:20%;">Increased capacity during crisis (+20%)</th>
                            <th style="width:20%;">Remaining increased crisis capacity</th>
                            <th style="width:20%;">Number of enrolled student</th>
                            <th style="width:20%;">Number of student application received</th>
                        </tr>

                    </thead>

                    <tbody>  

                        {% for i in 0 .. (countdegreeid - 1) %}

                            {% if degreecapacities[i]*1.2 < degreeenrolled[i] + nbstudentindegree[i] %}
        
                                <tr class="table-danger">
                                    <td style="width:30%;">{{degreenames[i]}} degree</td>
                                    <td class="text-center">{{degreecapacities[i]}}</td>
                                    <td class="text-center">{{degreecapacities[i]*1.2}}</td>
                                    <td class="text-center">{{degreecapacities[i]*1.2 - (degreeenrolled[i] + nbstudentindegree[i])}}</td>
                                    <td class="text-center">{{degreeenrolled[i]}}</td>
                                    <td class="text-center">{{nbstudentindegree[i]}}</td>
                                </tr>

                            {% elseif degreecapacities[i] <= (degreeenrolled[i] + nbstudentindegree[i]) and (degreeenrolled[i] + nbstudentindegree[i]) <= degreecapacities[i]*1.2 %}

                                <tr class="table-warning">
                                    <td style="width:30%;">{{degreenames[i]}} degree</td>
                                    <td class="text-center">{{degreecapacities[i]}}</td>
                                    <td class="text-center">{{degreecapacities[i]*1.2}}</td>
                                    <td class="text-center">{{degreecapacities[i]*1.2 - (degreeenrolled[i] + nbstudentindegree[i])}}</td>
                                    <td class="text-center">{{degreeenrolled[i]}}</td>
                                    <td class="text-center">{{nbstudentindegree[i]}}</td>
                                </tr>

                            {% else %}

                                <tr class="table-success">
                                    <td style="width:30%;">{{degreenames[i]}} degree</td>
                                    <td class="text-center">{{degreecapacities[i]}}</td>
                                    <td class="text-center">{{degreecapacities[i]*1.2}}</td>
                                    <td class="text-center">{{degreecapacities[i]*1.2 - (degreeenrolled[i] + nbstudentindegree[i])}}</td>
                                    <td class="text-center">{{degreeenrolled[i]}}</td>
                                    <td class="text-center">{{nbstudentindegree[i]}}</td>
                                </tr>

                            {% endif %}
                        
                        {% endfor %}
                    </tbody>  	

                </table>
    		

    	</div>

    	<br></br>
        <br></br>

         <div class="row">
            <table class="col-lg-12 table-center table-bordered table-striped">
                <caption class="text-center">Definition about colors used in the page</caption>
                {#<thead class="thead-light text-center">

                    <tr>
                        <th>Color definition</th>
                            
                    </tr>

                </thead>#}
                <tbody>
                    <tr>
                        <td class="table-success" style="width:15%;"></td>
                        <td>When: enrolled student + number of application received < casual capacity</td>                 
                    </tr>
                    <tr>
                        <td class="table-warning" style="width:15%;"></td>
                        <td>When: casual capacity < enrolled student + number of application received < increased crisis capacity</td>                 
                    </tr> 
                    <tr>
                        <td class="table-danger" style="width:15%;"></td>
                        <td>When: increased crisis capacity < enrolled student + number of application received</td>                 
                    </tr>  
                </tbody>

            </table>
        </div>


        <br></br>
        <br></br>
        <br></br>
        <br></br>
        <br></br>



   	{% endblock %}